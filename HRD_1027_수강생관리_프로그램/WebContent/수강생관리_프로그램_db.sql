create table STUDENT_TBL_01 (
STUDENT_NO NUMBER NOT NULL,
STUDENT_NAME VARCHAR2(20) NOT NULL,
STUDENT_ADDR VARCHAR2(100),
STUDENT_PHONE VARCHAR2(14),
STUDENT_BIRTH DATE,
STUDENT_EMAIL VARCHAR2(50),
STUDENT_ID VARCHAR2(12) UNIQUE,
STUDENT_PW VARCHAR2(50),
PRIMARY KEY (STUDENT_NO)
);

INSERT INTO STUDENT_TBL_01 VALUES(201801,'이기자','경산지 진량읍','011222333','2001/09/26','abc@naver.com',null,null);
INSERT INTO STUDENT_TBL_01 VALUES(201802,'김을동','대구시 수성구 수성1가','010444555','1997/05/19','asd@chol.net',null,null);
INSERT INTO STUDENT_TBL_01 VALUES(201803,'김희선','제주도 제주시 외나무골','054111222','2002/09/06','qwe@gmail.com',null,null);

SELECT to_char(STUDENT_BIRTH,'yyyy/mm/dd') FROM STUDENT_TBL_01;

SELECT * FROM STUDENT_TBL_01;

create table SBUJECT_TBL_01 (
SBUJECT_SEQ VARCHAR2(10) NOT NULL,
SBUJECT_STARTDATE DATE,
SBUJECT_ENDDATE DATE,
SBUJECT_NAME VARCHAR2(50),
SBUJECT_DESC CLOB,
SBUJECT_TEACHER VARCHAR2(12),
PRIMARY KEY (SBUJECT_SEQ)
);


INSERT INTO SBUJECT_TBL_01 VALUES ('C001','2018/09/01','2018/09/21','자바프로그래밍',NULL,'p04');
INSERT INTO SBUJECT_TBL_01 VALUES ('C002','2018/09/05','2018/09/26','안드로이드프로그래밍',NULL,'p02');
INSERT INTO SBUJECT_TBL_01 VALUES ('D001','2018/10/21','2018/10/21','HTML/CSS',NULL,'p04');
INSERT INTO SBUJECT_TBL_01 VALUES ('D002','2018/10/10','2018/10/10','운영체제',NULL,'p02');

SELECT * FROM SBUJECT_TBL_01;

CREATE TABLE REGISTER_TBL_01 (
REGISTER_SEQ NUMBER NOT NULL,
STUDENT_NO NUMBER,
SUBJECT_SEQ VARCHAR2(10),
REGISTER_DATE DATE,
REGISTER_STATUS CHAR(1) DEFAULT '0',
PRIMARY KEY(REGISTER_SEQ)
);

DROP TABLE REGISTER_TBL_01;

--시퀀스 입니다. 나중에 알아보세요
CREATE SEQUENCE REGISTER_SERQ
start with 1
increment by 1
minvalue 1;

INSERT INTO REGISTER_TBL_01 VALUES(REGISTER_SEQ.NEXTVAL,20201802,'C001','2018/08/30',default);




select max(REGISTER_SEQ)+1 from REGISTER_TBL_01

INSERT INTO REGISTER_TBL_01 VALUES (1,201801,'C001','2018/08/30',default);
INSERT INTO REGISTER_TBL_01 VALUES ((select max(REGISTER_SEQ)+1 from REGISTER_TBL_01),201802,'C001','2018/08/30',default);
INSERT INTO REGISTER_TBL_01 VALUES ((select max(REGISTER_SEQ)+1 from REGISTER_TBL_01),201801,'D001','2018/09/02','1');
INSERT INTO REGISTER_TBL_01 VALUES ((select max(REGISTER_SEQ)+1 from REGISTER_TBL_01),201803,'D001','2018/09/02','2');
INSERT INTO REGISTER_TBL_01 VALUES ((select max(REGISTER_SEQ)+1 from REGISTER_TBL_01),201803,'D002','2018/09/03','1');

select * from REGISTER_TBL_01

/*SELECT1*/

SELECT t1.STUDENT_NO, t1.STUDENT_NAME, t1.STUDENT_PHONE, to_char(t1.STUDENT_BIRTH,'yyyy/mm/dd') as STUDENT_BIRTH,
t1.STUDENT_EMAIL, t1.STUDENT_ID, t1.STUDENT_PW
FROM STUDENT_TBL_01 t1, REGISTER_TBL_01 t2
where t1.STUDENT_NO = t2.STUDENT_NO
group by t1.STUDENT_NAME;

SELECT count(case when t1.STUDENT_NO=t2.STUDENT_NO then 1 end) as RSTUDENT_NO
FROM STUDENT_TBL_01 t1, REGISTER_TBL_01 t2
